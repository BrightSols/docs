(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{127:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return i})),n.d(t,"default",(function(){return s}));var a=n(1),r=(n(0),n(173)),o=n(174);const p={id:"admin-vhost-templates",title:"Vhost Templates",sidebar_label:"Vhost Templates"},l={id:"admin-vhost-templates",title:"Vhost Templates",description:"Application",source:"@site/docs/admin-area-vhost-templates.md",permalink:"/docs/cloudpanel-ce/admin-vhost-templates",editUrl:"https://github.com/cloudpanel-io/docs/tree/master/cloudpanel-ce/docs/admin-area-vhost-templates.md",sidebar_label:"Vhost Templates",sidebar:"sidebar",previous:{title:"Users",permalink:"/docs/cloudpanel-ce/admin-users"},next:{title:"Database Servers",permalink:"/docs/cloudpanel-ce/admin-database-servers"}},i=[{value:"Application",id:"application",children:[{value:"Adding an Application",id:"adding-an-application",children:[]},{value:"Deleting an Application",id:"deleting-an-application",children:[]}]},{value:"Vhost Template",id:"vhost-template",children:[{value:"Adding a Vhost Template",id:"adding-a-vhost-template",children:[]},{value:"Deleting a Vhost Template",id:"deleting-a-vhost-template",children:[]}]},{value:"Vhost Templates",id:"vhost-templates",children:[{value:"Updating Vhost Templates",id:"updating-vhost-templates",children:[]}]}],c={rightToc:i};function s({components:e,...t}){return Object(r.b)("wrapper",Object(a.a)({},c,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"application"},"Application"),Object(r.b)("p",null,"The right ",Object(r.b)("strong",{parentName:"p"},"Vhost Template")," for your ",Object(r.b)("strong",{parentName:"p"},"Application")," is essential. For managing the ",Object(r.b)("strong",{parentName:"p"},"CloudPanel Vhost Templates")," we\nare using ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://vhost-templates.cloudpanel.io/v1/"}),"GitHub"),". ",Object(r.b)("strong",{parentName:"p"},"Vhost Templates")," for all popular ",Object(r.b)("strong",{parentName:"p"},"PHP Applications")," can be found ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://vhost-templates.cloudpanel.io/v1/"}),"there"),"."),Object(r.b)("h3",{id:"adding-an-application"},"Adding an Application"),Object(r.b)("p",null,"The ",Object(r.b)("strong",{parentName:"p"},"Vhost Templates")," are organized within ",Object(r.b)("strong",{parentName:"p"},"Applications"),". The ",Object(r.b)("strong",{parentName:"p"},"Vhost Template")," for newer application versions may be different than for an older one."),Object(r.b)("p",null,"To add a new ",Object(r.b)("strong",{parentName:"p"},"Application")," do the following steps:"),Object(r.b)("p",null,"1) Login into the ",Object(r.b)("strong",{parentName:"p"},"CloudPanel")," as ",Object(r.b)("strong",{parentName:"p"},"User")," with admin rights."),Object(r.b)("p",null,"2) Go to the ",Object(r.b)("strong",{parentName:"p"},"Admin Area")," by clicking on ",Object(r.b)("strong",{parentName:"p"},"Admin Area")," top right."),Object(r.b)("p",null,"3) In the left menu, click on ",Object(r.b)("strong",{parentName:"p"},"Vhost Templates")," and click on the button ",Object(r.b)("strong",{parentName:"p"},"Add Application"),"."),Object(r.b)("img",{class:"border",src:Object(o.a)("img/v1/admin/vhost_templates/applications.png")})," ",Object(r.b)("br",null)," ",Object(r.b)("br",null),Object(r.b)("p",null,"Enter the ",Object(r.b)("strong",{parentName:"p"},"Application Name")," and click on the button ",Object(r.b)("strong",{parentName:"p"},"Add New Application")," to save."),Object(r.b)("img",{class:"border",src:Object(o.a)("img/v1/admin/vhost_templates/new_application.png")}),Object(r.b)("h3",{id:"deleting-an-application"},"Deleting an Application"),Object(r.b)("p",null,"On the ",Object(r.b)("strong",{parentName:"p"},"Vhost Templates")," overview site, you can delete an ",Object(r.b)("strong",{parentName:"p"},"Application")," by clicking on the button ",Object(r.b)("strong",{parentName:"p"},"Delete"),"."),Object(r.b)("img",{class:"border",src:Object(o.a)("img/v1/admin/vhost_templates/applications.png")}),Object(r.b)("h2",{id:"vhost-template"},"Vhost Template"),Object(r.b)("h3",{id:"adding-a-vhost-template"},"Adding a Vhost Template"),Object(r.b)("p",null,"To add a new ",Object(r.b)("strong",{parentName:"p"},"Vhost Template")," to an ",Object(r.b)("strong",{parentName:"p"},"Application"),", click on the ",Object(r.b)("strong",{parentName:"p"},"Application")," and then on the button ",Object(r.b)("strong",{parentName:"p"},"Add Vhost Template"),"."),Object(r.b)("img",{class:"border",src:Object(o.a)("img/v1/admin/vhost_templates/add_vhost_template_1.png")})," ",Object(r.b)("br",null)," ",Object(r.b)("br",null),Object(r.b)("p",null,"Enter the ",Object(r.b)("strong",{parentName:"p"},"Template Name")," and content of the ",Object(r.b)("strong",{parentName:"p"},"Vhost Template")," and click on ",Object(r.b)("strong",{parentName:"p"},"Add Vhost Template"),"."),Object(r.b)("p",null,"The following ",Object(r.b)("strong",{parentName:"p"},"placeholders")," are required:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"{{ssl_certificate_key}}"),Object(r.b)("li",{parentName:"ul"},"{{ssl_certificate}}"),Object(r.b)("li",{parentName:"ul"},"{{root}}"),Object(r.b)("li",{parentName:"ul"},"{{nginx_access_log}}"),Object(r.b)("li",{parentName:"ul"},"{{nginx_error_log}}"),Object(r.b)("li",{parentName:"ul"},"{{basic_auth}}"),Object(r.b)("li",{parentName:"ul"},"{{php_fpm_listener}}"),Object(r.b)("li",{parentName:"ul"},"{{php_settings}}")),Object(r.b)("img",{class:"border",src:Object(o.a)("img/v1/admin/vhost_templates/add_vhost_template_2.png")})," ",Object(r.b)("br",null),Object(r.b)("br",null),Object(r.b)("p",null,"You can use the ",Object(r.b)("strong",{parentName:"p"},"Vhost Template")," below and modify it to your needs."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'server {\n  listen 80;\n  listen [::]:80;\n  listen 443 ssl http2;\n  listen [::]:443 ssl http2;\n  {{ssl_certificate_key}}\n  {{ssl_certificate}}\n  {{server_name}}\n  {{root}}\n\n  {{nginx_access_log}}\n  {{nginx_error_log}}\n\n  if ($bad_bot = 1) {\n    return 403;\n  }\n\n  if ($scheme != "https") {\n    rewrite ^ https://$host$uri permanent;\n  }\n\n  location ~ /.well-known {\n    auth_basic off;\n    allow all;\n  }\n\n  {{basic_auth}}\n\n  try_files $uri $uri/ /index.php?$args;\n  index index.php index.html;\n\n  location ~ \\.php$ {\n    include fastcgi_params;\n    fastcgi_intercept_errors on;\n    fastcgi_index index.php;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    try_files $uri =404;\n    fastcgi_read_timeout 3600;\n    fastcgi_send_timeout 3600;\n    fastcgi_param HTTPS $fastcgi_https;\n    {{php_fpm_listener}}\n    {{php_settings}}\n  }\n\n  location ~* ^.+\\.(css|js|jpg|jpeg|gif|png|ico|gz|svg|svgz|ttf|otf|woff|eot|mp4|ogg|ogv|webm|webp|zip|swf)$ {\n    add_header Access-Control-Allow-Origin "*";\n    expires max;\n    access_log off;\n  }\n\n  if (-f $request_filename) {\n    break;\n  }\n}\n')),Object(r.b)("h3",{id:"deleting-a-vhost-template"},"Deleting a Vhost Template"),Object(r.b)("p",null,"To delete a ",Object(r.b)("strong",{parentName:"p"},"Vhost Template"),", click on the ",Object(r.b)("strong",{parentName:"p"},"Application")," and then on the button ",Object(r.b)("strong",{parentName:"p"},"Delete"),"."),Object(r.b)("img",{class:"border",src:Object(o.a)("img/v1/admin/vhost_templates/delete_vhost_template.png")})," ",Object(r.b)("br",null),Object(r.b)("br",null),Object(r.b)("h2",{id:"vhost-templates"},"Vhost Templates"),Object(r.b)("h3",{id:"updating-vhost-templates"},"Updating Vhost Templates"),Object(r.b)("p",null,"All ",Object(r.b)("strong",{parentName:"p"},"Vhost Templates")," are managed via ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://vhost-templates.cloudpanel.io/v1/"}),"GitHub"),", where we make constantly changes."),Object(r.b)("p",null,"To update the ",Object(r.b)("strong",{parentName:"p"},"Vhost Templates")," in your ",Object(r.b)("strong",{parentName:"p"},"CloudPanel")," do the following:"),Object(r.b)("p",null,"1) Login via ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"users#ssh-login"}),"SSH")," to your server and become ",Object(r.b)("strong",{parentName:"p"},"root"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"sudo su root\n")),Object(r.b)("p",null,"2) Run the following command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"clpctl vhost-templates:import\n")))}s.isMDXComponent=!0},172:function(e,t,n){"use strict";var a=n(0),r=n(35);t.a=function(){return Object(a.useContext)(r.a)}},173:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return u}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),s=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},b=function(e){var t=s(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),b=s(n),d=a,u=b["".concat(p,".").concat(d)]||b[d]||m[d]||o;return n?r.a.createElement(u,l({ref:t},c,{components:n})):r.a.createElement(u,l({ref:t},c))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,p=new Array(o);p[0]=d;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,p[1]=l;for(var c=2;c<o;c++)p[c]=n[c];return r.a.createElement.apply(null,p)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(172);function r(e){const{siteConfig:t}=Object(a.a)(),{baseUrl:n="/"}=t||{};if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?n+e.slice(1):n+e}}}]);