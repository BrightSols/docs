# Docusaurus Installation

 // Start CloudPanel DEV container
 docker run -d --net=bridge -v /data -v /var/lib/mysql -v /home/cloudpanel --restart=always --privileged -h cloudpanel-docusaurus --name cloudpanel-docusaurus -it -p 80:80 -p 443:443 -p 22:22 -p 3306:3306 -p 8443:8443 -p 8843:8843 -p 15672:15672 cloudpanelio/cloudpanel-dev

 // Install packages
 - curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - && echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
 - apt update
 - apt-get -y install nodejs yarn npm
 - npm install -g npx

 // Setup Domains
 - cloudpanel-docs.clp
 - Forward all traffic to port 3000

   location / {
     proxy_pass http://127.0.0.1:3000;
     proxy_set_header Host $http_host;
     proxy_set_header X-Forwarded-Host $http_host;
     proxy_set_header X-Real-IP $remote_addr;
     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
     proxy_redirect off;
     proxy_max_temp_file_size 0;
     proxy_connect_timeout      720;
     proxy_send_timeout         720;
     proxy_read_timeout         720;
     proxy_buffer_size          128k;
     proxy_buffers              4 256k;
     proxy_busy_buffers_size    256k;
     proxy_temp_file_write_size 256k;
   }

 // Install Docusaurus - https://v2.docusaurus.io/docs/installation
 - rm -rf /home/cloudpanel/htdocs/cloudpanel-docs.clp/
 - cd /home/cloudpanel/htdocs/
 - npx @docusaurus/init@next init cloudpanel-docs.clp classic
 - Copy files from docker to git and start syncing: cd /tmp/ && docker cp cloudpanel-docusaurus:/home/cloudpanel/htdocs/cloudpanel-docs.clp/ cloudpanel-docs


# Development

  // Start Yarn
  - cd /home/cloudpanel/htdocs/cloudpanel-docs.clp/
  - yarn start
  - Open: https://cloudpanel-docs.clp/

# Build

  // Build Documentation
  - cd /home/cloudpanel/htdocs/cloudpanel-docs.clp/
  - yarn build
